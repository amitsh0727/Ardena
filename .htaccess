# Enable URL rewriting
RewriteEngine On

# Redirect URLs with .php to clean URLs (external redirect)
RewriteCond %{THE_REQUEST} \s/([^.]+)\.php[\s?] [NC]
RewriteRule ^ /%1 [R=301,L]

# Remove .php extension from URLs (internal rewrite)
# Handle root level pages
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^/]+)/?$ $1.php [L]

# Handle subdirectory pages (service/, industry/)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^/]+)/([^/]+)/?$ $1/$2.php [L]

# Redirect to 404.php if page is not found
ErrorDocument 404 /404.php
